<!DOCTYPE html> 
<html xmlns="w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"> 
    <head> 
            <title>Biblioteca Virtual</title> 
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">                 
    </head> 
    <body>
        
        <h1>Detalhes do Filme "<span th:text="${filme.titulo}"/>"</h1>
        <p>ID: <span th:text="${filme.id}"/></p>
        <p>Título: <span th:text="${filme.titulo}"/></p>
        
        <hr>
        
        <form th:action="@{/gravar-analise}" th:object="${analise}" method="POST"> 
            <p>O que você achou deste filme?  <input type="text" th:field="${analise.analise}" /> </p> 
            <input type="hidden" th:field="${filme.id}" />
            <p><input type="submit" value="Enviar" /></p> 
        </form>          
        
        <hr>
        <h1>Lista de análises</h1>
        <ul>
            <li th:each="reg: ${analises}">
                <p><span th:text="${reg.analise}"/></p>
                <a th:href="@{'/excluirAnalise?id=' + ${reg.id}}">Excluir</a>
            </li>
        </ul>
        <span th:if="${analises.size()<=0}">Nenhuma análise registrada</span>
        
        <br><a th:href="@{/}"><button type="button" class="btn btn-dark">Voltar</button></a>
    </body>
</html>
